<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Import Grandstander Google Font-->
    <link href="https://fonts.googleapis.com/css2?family=Grandstander:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
            

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <div class="navbar-fixed">
      <nav class="paradise-pink">
        <div class="nav-wrapper">
          <a href="/" class="brand-logo">CoronaCafeteria</a>
          <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
          <ul class="right hide-on-med-and-down">
            <li><a href="/cafeterias">Browse</a></li>
            <li>
                <!-- Dynamic UI below this line -->
            <% members.forEach(function(member){ %>  
              <% if (member._id.equals(user && user._id)) { %>
              <!-- Modal Trigger -->
              <a class="modal-trigger" href="#modaln">Add Establishment</a>
          
              <!-- Modal Structure -->
              <div id="modaln" class="modal modal-fixed-footer">
                <div class="modal-content">
              
                  <form action="/cafeterias" method="POST">
                    <div class="row">
                      <div class="input-field col s6">
                        <input id="name" type="text" name="name" class="validate">
                        <label for="name">Name of Establishment</label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="input-field col s6">
                        <input placeholder="123 YourAddress Street" id="location" type="text" name="location" class="validate">
                        <label for="location">Location</label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="input-field col s6">
                        <input placeholder="insert image URL (optional)" id="image" type="text" name="image" class="validate">
                        <label for="image">Upload Logo/Image</label>
                      </div>
                    </div>
                    <div class="row">
                      <p>
                        <label for="takeout">
                          <input type="checkbox" id="takeout" name="takeout"/>
                          <span>Curbside Pickup?</span>
                        </label> <br>
                        <label for="delivery">
                          <input type="checkbox" id="delivery" name="delivery"/>
                          <span>Delivery available?</span>
                        </label><br>
                        <label for="dineIn">
                          <input type="checkbox" id="dineIn" name="dineIn"/>
                          <span>Dine-in available?</span>
                        </label>
                        <div class="input-field col s3">
                          <input type="number" id="capacity" name="capacity">
                          <label for="capacity">Capacity #</label>
                        </div>
                      </p>
                    </div>
                    <div class="row">
                      <div class="input-field col s10">
                        <textarea id="info" name="info" class="materialize-textarea"></textarea>
                        <label for="info">Input important information here</label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="input-field col s6">
                        <input disabled value="This will be done later" id="disabled" type="text" class="validate">
                        <label for="disabled">Menu</label>
                      </div>
                    </div>
          
                </div>
                <div class="modal-footer">
                  <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                    <i class="material-icons right">send</i>
                  </button>
                </div>
                </form>
              </div>
              <% } %>
            <% }) %>
            </li>
            <li>
              <% if (user) { %>
                <a href="/logout"><i class="material-icons left">trending_flat</i>Log Out</a>
              <% } else { %>
                <a href="/auth/google"><i class="material-icons left">vpn_key</i>Login with Google</a>
              <% } %>
              </li>
          </ul>
        </div>
      </nav>
    </div>
    <ul class="sidenav beige" id="mobile-demo">
      <li><a href="/cafeterias">Browse</a></li>
            <li>
              <% if (user) { %>
                <a href="/logout"><i class="material-icons left">trending_flat</i>Log Out</a>
              <% } else { %>
                <a href="/auth/google"><i class="material-icons left">vpn_key</i>Login with Google</a>
              <% } %>
            </li>
    </ul>

    <div class="slider fullscreen hide-on-med-and-down">
      <ul class="slides">
        <li>
          <img src="/images/two-people-share-a-coffee-while-socially-distancing.jpg"> 
          <div class="caption center-align">
            <h3>Welcome to Corona Cafeteria</h3>
            <h5 class="light grey-text text-lighten-3">We make eating safe easy.</h5>
          </div>
        </li>
        <li>
          <img src="/images/man-wearing-face-mask-flips-open-sign.jpg"> 
          <div class="caption left-align">
            <h3>Login Add Your Establishment</h3>
            <h5 class="light grey-text text-lighten-3">Update patrons on your status.</h5>
             <!-- Dynamic UI below this line -->
              <% members.forEach(function(member){ %>  
                <% if (member._id.equals(user && user._id)) { %>
                  <!-- Modal Trigger -->
                  <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Add Establishment</a>
                <% } %>
              <% }) %>
          </div>
        </li>
        <li>
          <img src="/images/man-picks-up-his-order-from-a-local-shop.jpg"> 
          <div class="caption right-align">
            <h3>Stay In the Know</h3>
            <h5 class="light grey-text text-lighten-3">Updates in real time.</h5>
          </div>
        </li>
        <li>
          <img src="https://i0.wp.com/post.healthline.com/wp-content/uploads/2020/06/Friends_Restaurant_Masks_1296x728-header.jpg?w=1155&h=1528"> 
          <div class="caption center-align">
            <h3>Corona Cafteria</h3>
            <h5 class="light grey-text text-lighten-3">Login and join the community.</h5>
          </div>
        </li>
      </ul>
    </div>

    <h2 class="center-align hide-on-large-only">Welcome to <%= title %></h2><br>
    
    <img class="hide-on-large-only responsive-img" src="/images/two-people-share-a-coffee-while-socially-distancing.jpg">
    
    <h4 class="center-align hide-on-large-only"> Login to add your establishment </h4>
    
      <!-- Dynamic UI below this line -->
      <% members.forEach(function(member){ %>  
        <% if (member._id.equals(user && user._id)) { %>
          <!-- Modal Trigger -->
          <a class="waves-effect waves-light btn modal-trigger hide-on-large-only" href="#modal1">Add Establishment</a>

          <!-- Modal Structure -->
          <div id="modal1" class="modal modal-fixed-footer">
            <div class="modal-content">
              <form action="/cafeterias" method="POST">
                <div class="row">
                  <div class="input-field col s10">
                    <input id="name" type="text" name="name" class="validate">
                    <label for="name">Name of Establishment</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s10">
                    <input placeholder="123 YourAddress Street" id="location" type="text" name="location" class="validate">
                    <label for="location">Location</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s10">
                    <input placeholder="insert image URL (optional)" id="image" type="text" name="image" class="validate">
                    <label for="image">Upload Logo/Image</label>
                  </div>
                </div>
                <div class="row">
                  <p>
                    <label for="takeout">
                      <input type="checkbox" id="takeout" name="takeout"/>
                      <span>Curbside Pickup?</span>
                    </label> <br>
                    <label for="delivery">
                      <input type="checkbox" id="delivery" name="delivery"/>
                      <span>Delivery available?</span>
                    </label><br>
                    <label for="dineIn">
                      <input type="checkbox" id="dineIn" name="dineIn"/>
                      <span>Dine-in available?</span>
                    </label>
                    <div class="input-field col s3">
                      <input type="number" id="capacity" name="capacity">
                      <label for="capacity">Capacity #</label>
                    </div>
                  </p>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <textarea id="info" name="info" class="materialize-textarea"></textarea>
                    <label for="info">Input important information here</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s6">
                    <input disabled value="This will be done later" id="disabled" type="text" class="validate">
                    <label for="disabled">Menu</label>
                  </div>
                </div>
            </div>
            <div class="modal-footer">
              <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                <i class="material-icons right">send</i>
              </button>
            </div>
            </form>
          </div>
        <% } %>
      <% }) %>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
          var elems = document.querySelectorAll('.modal');
          var instances = M.Modal.init(elems, {});
        });

        document.addEventListener('DOMContentLoaded', function() {
          var elems = document.querySelectorAll('.sidenav');
          var instances = M.Sidenav.init(elems, {});
        });

        document.addEventListener('DOMContentLoaded', function() {
          var elems = document.querySelectorAll('.slider');
          var instances = M.Slider.init(elems, {});
        });
    </script>

  </body>
</html>
